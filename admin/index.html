<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Content Manager - Scholars Scribe</title>
  <link rel="stylesheet" href="https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.css" />
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  
  <style>
    /* Custom branding for CMS */
    .css-12yxaun {
      color: #2563eb !important;
    }
    
    .css-1c9b3g5 {
      background: linear-gradient(135deg, #2563eb 0%, #3b82f6 100%) !important;
    }
    
    .css-wfao5o::after {
      content: "Scholars Scribe Content Management";
    }
  </style>
</head>
<body>
  <!-- Include the script that builds the page and powers Netlify CMS -->
  <script src="https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js"></script>
  
  <script>
    // Custom preview templates
    CMS.registerPreviewTemplate("articles", function(props) {
      const entry = props.entry;
      const title = entry.getIn(["data", "title"]);
      const excerpt = entry.getIn(["data", "excerpt"]);
      const body = entry.getIn(["data", "body"]);
      const image = entry.getIn(["data", "image"]);
      
      return React.createElement("div", {
        style: {
          padding: "20px",
          fontFamily: "system-ui, -apple-system, sans-serif",
          maxWidth: "800px",
          margin: "0 auto"
        }
      }, [
        image && React.createElement("img", {
          key: "image",
          src: image,
          alt: title,
          style: {
            width: "100%",
            height: "300px",
            objectFit: "cover",
            borderRadius: "8px",
            marginBottom: "20px"
          }
        }),
        React.createElement("h1", {
          key: "title",
          style: {
            fontSize: "2.5rem",
            fontWeight: "bold",
            color: "#1f2937",
            marginBottom: "10px"
          }
        }, title),
        React.createElement("p", {
          key: "excerpt",
          style: {
            fontSize: "1.25rem",
            color: "#6b7280",
            marginBottom: "30px",
            fontStyle: "italic"
          }
        }, excerpt),
        React.createElement("div", {
          key: "body",
          style: {
            fontSize: "1rem",
            lineHeight: "1.7",
            color: "#374151"
          },
          dangerouslySetInnerHTML: {
            __html: body ? body.replace(/\n/g, '<br>') : ""
          }
        })
      ]);
    });

    CMS.registerPreviewTemplate("courses", function(props) {
      const entry = props.entry;
      const title = entry.getIn(["data", "title"]);
      const description = entry.getIn(["data", "description"]);
      const instructor = entry.getIn(["data", "instructor"]);
      const duration = entry.getIn(["data", "duration"]);
      const level = entry.getIn(["data", "level"]);
      const price = entry.getIn(["data", "price"]);
      const technologies = entry.getIn(["data", "technologies"]);
      
      return React.createElement("div", {
        style: {
          padding: "20px",
          fontFamily: "system-ui, -apple-system, sans-serif",
          maxWidth: "600px",
          margin: "0 auto",
          border: "1px solid #e5e7eb",
          borderRadius: "12px",
          backgroundColor: "#f9fafb"
        }
      }, [
        React.createElement("h2", {
          key: "title",
          style: { color: "#1f2937", marginBottom: "10px" }
        }, title),
        React.createElement("p", {
          key: "description",
          style: { color: "#6b7280", marginBottom: "20px" }
        }, description),
        React.createElement("div", {
          key: "meta",
          style: { display: "grid", gridTemplateColumns: "1fr 1fr", gap: "10px", marginBottom: "20px" }
        }, [
          React.createElement("div", { key: "instructor" }, `👨‍🏫 ${instructor}`),
          React.createElement("div", { key: "duration" }, `⏰ ${duration}`),
          React.createElement("div", { key: "level" }, `📊 ${level}`),
          React.createElement("div", { key: "price" }, `💰 ${price}`)
        ]),
        technologies && React.createElement("div", {
          key: "technologies",
          style: { marginTop: "15px" }
        }, [
          React.createElement("h4", { key: "tech-title" }, "Technologies:"),
          React.createElement("div", {
            key: "tech-list",
            style: { display: "flex", flexWrap: "wrap", gap: "5px", marginTop: "5px" }
          }, technologies.map((tech, i) => 
            React.createElement("span", {
              key: i,
              style: {
                background: "#ddd6fe",
                color: "#5b21b6",
                padding: "2px 8px",
                borderRadius: "4px",
                fontSize: "0.875rem"
              }
            }, tech)
          ))
        ])
      ]);
    });

    // Initialize CMS
    CMS.init();
  </script>
</body>
</html>